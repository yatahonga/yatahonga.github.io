<!doctype html>
<html>
  <head>
    <title>Battle for Moscow</title>
    <meta name="viewport" content="width=device-width, initial-scale=0.7, user-scalable=no, viewport-fit=cover">
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/b4m.css" />
    <script src="js/honeycomb.min.js"></script>
    <script src="js/b4m.min.js"></script>
  </head>
  <body style="overflow: hidden;">
    <!-- Splash screen -->
    <div id="splash_background"></div>
    <div id="splash_title">
      <img src="img/b4m.png" style="width: 100%;" />
      <div id="next_start">
        <img id="rotate" src="img/rotate.gif" style="width: 100px; display: none; margin: auto; margin-bottom: 60px;" />
        <p>"Battle for Moscow" is a game originally designed by Franck Chadwick in 1986 to introduce players to wargaming (<a href="https://grognard.com/bfm/game.html" target="_blank" style="color: lightgray;">rules</a>). The graphics for this version are based on the 2009 reprint by Victory Point Games. All rights are reserved.</p>
        <div id="next_continue_button" style="display: none;">Continue Game</div>
        <br />
        <div id="next_solitaire_button">New Solitaire Game</div>
        <br />
        <div id="next_human_vs_computer_button" style="display: none;"><i class="fa fa-user" aria-hidden="true"></i> <img src="img/german_marker.png" style="height: 20px; margin-right: 20px; vertical-align: text-top;"></img> VS <img src="img/soviet_marker.png" style="height: 20px; margin-left: 20px; vertical-align: text-top;"></img> <i class="fa fa-laptop" aria-hidden="true"></i></div>
      </div>
    </div>
    <!-- Image assets -->
    <img id="soviets" src="img/soviets.png" style="display: none;">
    <img id="germans" src="img/germans.png" style="display: none;">
    <img id="frame" src="img/frame.png" style="display: none;">
    <img id="delete_counter" src="img/delete_counter.png" style="display: none;">
    <img id="check_counter" src="img/check_counter.png" style="display: none;">
    <img id="arrows_counter" src="img/arrows_counter.png" style="display: none;">
    <!-- Map and canvas -->
    <img id="map" src="img/map.png">
    <canvas id="hex_highlights"></canvas>
    <canvas id="board"></canvas>
    <canvas id="counters_highlights"></canvas>
    <!-- Status bar -->
    <div id="turn_info" style="display: none;">
      <span id="turn_info_title"></span>
      <div id="turn_report" style="display: none;"></div>
    </div>
    <!-- HUD for the initial German setup phase -->
    <div id="step_0" class="hud" style="display: none;">
      <div class="hud_title">
        <img src="img/german_turn.png" />
        <span>Setting Up</span>
      </div>
      <p id="step_0_tip">Set up one full-strength German unit on each hex containing a black cross.</p>
      <canvas id="canvas_step_0"></canvas>
      <div id="next_step_0" class="next" style="display: none;">
        <span id="next_step_0_button">
          To Combat Phase 
          <span class="next_button">
            <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i>
          </span>
        </span>
      </div>
    </div>
    <!-- HUD for the combat phase -->
    <div id="step_combat" class="hud" style="display: none;">
      <div class="hud_title">
        <img src="img/german_turn.png" />
        <span>Combat Phase</span>
      </div>
      <p id="step_combat_tip"></p>
      <p id="skip_combat">
        <input type="checkbox" id="skip_to_movement" name="skip_to_movement" value="skip">
        <label for="skip_to_movement"> Go straight to movement phase</label>
      </p>
      <div id="dashboard_combat"></div>
      <p id="skip_announce" style="display: none;">
        <input type="checkbox" id="skip_to_resolution" name="skip_to_resolution" value="skip">
        <label for="skip_to_resolution"> No more battle to announce</label>
      </p>
      <div id="next_step_resolve_battles" class="next" style="display: none;">
        <span id="next_step_resolve_battles_button">
          To Battles Resolution 
          <span class="next_button">
            <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i>
          </span>
        </span>
      </div>
      <div id="next_step_combat" class="next" style="display: none;">
        <span id="next_step_combat_button" >
          To Movement Phase 
          <span class="next_button">
            <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i>
          </span>
        </span>
      </div>
    </div>
    <!-- HUD for the movement phase -->
    <div id="step_movement" class="hud" style="display: none;">
      <div class="hud_title">
        <img src="img/german_turn.png" />
        <span>Movement Phase</span>
      </div>
      <p id="step_movement_tip">Select all the units you choose to move and their destination in order to conclude the turn.</p>
      <p id="skip_movement" style="display: none;">
        <input type="checkbox" id="skip_to_other_player" name="skip_to_other_player" value="skip">
        <label for="skip_to_other_player"> No more movement required</label>
      </p>
      <div id="next_step_movement" class="next" style="display: none;">
        <span id="next_step_movement_button" >
          To Other Player Turn 
          <span class="next_button">
            <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i>
          </span>
        </span>
      </div>
      <div id="next_step_final" class="next" style="display: none;">
        <span id="next_step_final_button" >
          To Final Results 
          <span class="next_button">
            <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i>
          </span>
        </span>
      </div>
    </div>
    <!-- HUD for the replacement phase -->
    <div id="step_replacement" class="hud" style="display: none;">
      <div class="hud_title">
        <img src="img/soviet_turn.png" />
        <span>Replacement Phase</span>
      </div>
      <p id="step_replacement_tip"></p>
      <canvas id="canvas_step_reinforcement" style="display: none;"></canvas>
      <p id="step_replacement_count"></p>
      <div id="next_step_reinforcement" class="next" style="display: none;">
        <span id="next_step_reinforcement_button" >
          To Standard Replacement Phase 
          <span class="next_button">
            <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i>
          </span>
        </span>
      </div>
      <p id="skip_replacement" style="display: none;">
        <input type="checkbox" id="skip_to_special_movement" name="skip_to_special_movement" value="skip">
        <label for="skip_to_special_movement"> No more replacement needed</label>
      </p>
      <div id="next_step_replacement" class="next" style="display: none;">
        <span id="next_step_replacement_button" >
          To Special Movement Phase 
          <span class="next_button">
            <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i>
          </span>
        </span>
      </div>
    </div>
    <!-- HUD for the special movement phase -->
    <div id="step_special_movement" class="hud" style="display: none;">
      <div class="hud_title">
        <img src="img/soviet_turn.png" />
        <span>Special Movement Phase</span>
      </div>
      <p id="step_special_movement_tip"></p>
      <p id="skip_special_movement" style="display: none;">
        <input type="checkbox" id="skip_to_combat" name="skip_to_combat" value="skip">
        <label for="skip_to_combat"> No more special movement needed</label>
      </p>
      <div id="next_step_special_movement" class="next" style="display: none;">
        <span id="next_step_special_movement_button" >
          To Combat Phase 
          <span class="next_button">
            <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i>
          </span>
        </span>
      </div>
    </div>
    <!-- HUD for the final results -->
    <div id="final_results" class="hud" style="display: none;">
      <div class="hud_title"></div>
      <p id="final_results_tip"></p>
      <div class="next" onclick="window.location.reload(true);">
        <span>
          New Game 
          <span class="next_button">
            <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i>
          </span>
        </span>
      </div>
    </div>
  </body>
</html>
