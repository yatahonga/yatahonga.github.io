!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).Honeycomb={})}(this,(function(t){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var n=function(t,n){return t(n={exports:{}},n.exports),n.exports}((function(t,n){
/*! axis.js v1.2.1 | (c) 2016 @toddmotto | https://github.com/toddmotto/axis */
t.exports=function(){var t={},n="Array Object String Date RegExp Function Boolean Number Null Undefined".split(" ");function e(){return Object.prototype.toString.call(this).slice(8,-1)}for(var r=n.length;r--;)t["is"+n[r]]=function(t){return function(n){return e.call(n)===t}}(n[r]);return t}()})),e=n.isObject,r=n.isNumber,i=n.isArray,o=n.isString;function s(t,n){return n+t*(1&n)>>1}function u(t,n){return(t%n+n)%n}function c(t,n){if(!/^(N|S)?(E|W)?$/i.test(t))throw new Error("Invalid compass direction: ".concat(t,". Choose from E, SE, S, SW, W, NW, N or NE."));if(n=n.toLowerCase(),t=t.toUpperCase(),"pointy"===n&&["N","S"].includes(t))throw new Error("Direction ".concat(t," is ambiguous for pointy hexes. Did you mean ").concat(t,"E or ").concat(t,"W?"));if("flat"===n&&["E","W"].includes(t))throw new Error("Direction ".concat(t," is ambiguous for flat hexes. Did you mean N").concat(t," or S").concat(t,"?"));return{pointy:{E:0,SE:1,SW:2,W:3,NW:4,NE:5},flat:{SE:0,S:1,SW:2,NW:3,N:4,NE:5}}[n][t]}function a(t,n){return r(t)||r(n)?r(t)?r(n)||(n=t):t=n:t=n=0,{x:t,y:n}}const f=[{q:1,r:0,s:-1},{q:0,r:1,s:-1},{q:-1,r:1,s:0},{q:-1,r:0,s:1},{q:0,r:-1,s:1},{q:1,r:-1,s:0}],h=[{q:2,r:-1,s:-1},{q:1,r:1,s:-2},{q:-1,r:2,s:-1},{q:-2,r:1,s:1},{q:-1,r:-1,s:2},{q:1,r:-2,s:1}],l={q:1e-6,r:1e-6,s:-2e-6};function d(t){return r(t)?this[t]:this[this.indexOf(t)]}function x({isValidHex:t}){return function(n,e){if(!t(e))return this;const i=r(n)?n:this.indexOf(n);return i<0?this.push(e):this[i]=e,this}}function y(t,n){const e=t.distance(n),r=1/Math.max(e,1);let i=[];for(let o=0;o<=e;o++){const e=t.nudge().lerp(n.nudge(),r*o).round();i.push(this.get(e))}return i}function p({isValidHex:t}){return function(n,e=0,r=!0){if(!t(n))throw new Error("Invalid center hex: ".concat(n,"."));if(!this.get(n))throw new Error("Center hex with coordinates ".concat(n," not present in grid."));let i=[];for(let t=-e;t<=e;t++)for(let o=Math.max(-e,-t-e);o<=Math.min(e,-t+e);o++){const e=this.get(n.cubeToCartesian({q:n.q+t,r:n.r+o}));n.equals(e)&&!r||i.push(e)}return i.filter(Boolean)}}function b({isValidHex:t,signedModulo:n,compassToNumberDirection:e}){return function(r,i="all",s=!1){if(!t(r))throw new Error("Invalid hex: ".concat(r,"."));const u=s?h:f;return"all"===i&&(i=[0,1,2,3,4,5]),[].concat(i).map(t=>{o(t)&&(t=e(t,r.orientation)),(t<0||t>5)&&(t=n(t,6));const{q:i,r:s}=u[t];return this.get(r.cubeToCartesian({q:r.q+i,r:r.r+s}))})}}function g(){if(0===this.length)return 0;const{0:t,length:n,[n-1]:e}=this[0].isPointy()?[...this].sort((t,n)=>n.s-t.s||t.q-n.q):[...this].sort((t,n)=>t.q-n.q);return e.toPoint().x-t.toPoint().x+this[0].width()}function q(){if(0===this.length)return 0;const{0:t,length:n,[n-1]:e}=this[0].isPointy()?[...this].sort((t,n)=>t.r-n.r):[...this].sort((t,n)=>n.s-t.s||t.r-n.r);return e.toPoint().y-t.toPoint().y+this[0].height()}function P({Hex:t}){return function(n,e){return t().fromPoint(n,e)}}function m({Grid:t,Hex:n}){return function({width:e,height:r,start:i,direction:o=1,onCreate:s=(()=>{})}){i=n(i);const[u,c,a]={1:["q","r","s"],3:["r","s","q"],5:["s","q","r"]}[o],f=new t;f.width=e,f.height=r,f.start=i,f.direction=o;for(let t=0;t<e;t++)for(let e=0;e<r;e++){const r=n({[u]:t+i[u],[c]:e+i[c],[a]:-t-e+i[a]});s(r,f),f.push(r)}return f}}function w({Grid:t,Hex:n}){return function({size:e,start:r,direction:i=1,onCreate:o=(()=>{})}){r=n(r);const s={1:{rStart:()=>0,rEnd:t=>e-t},5:{rStart:t=>e-t,rEnd:()=>e+1}},{rStart:u,rEnd:c}=s[i],a=new t;a.size=e,a.start=r,a.direction=i;for(let t=0;t<e;t++)for(let e=u(t);e<c(t);e++){const i=n({q:t+r.q,r:e+r.r,s:-t-e+r.s});o(i,a),a.push(i)}return a}}function H({Grid:t,Hex:n}){return function({radius:e,center:r,onCreate:i=(()=>{})}){r=n(r);const o=new t;o.radius=e,o.center=r;for(let t=-e;t<=e;t++){const s=Math.max(-e,-t-e),u=Math.min(e,-t+e);for(let e=s;e<=u;e++){const s=n({q:t+r.q,r:e+r.r,s:-t-e+r.s});i(s,o),o.push(s)}}return o}}function O({Grid:t,Hex:n,compassToNumberDirection:e,signedModulo:r}){return function({width:i,height:u,start:c,direction:a=(n().isPointy()?0:1),onCreate:f=(()=>{})}){c=n(c),o(a)&&(a=e(a,c.orientation)),(a<0||a>5)&&(a=r(a,6));const[h,l,d]=[["q","r","s"],["r","q","s"],["r","s","q"],["s","r","q"],["s","q","r"],["q","s","r"]][a],[x,y]=c.isPointy()?[i,u]:[u,i],p=new t;p.width=i,p.height=u,p.start=c,p.direction=a;for(let t=0;t<y;t++){const e=s(c.offset,t);for(let r=-e;r<x-e;r++){const e=n({[h]:r+c[h],[l]:t+c[l],[d]:-r-t+c[d]});f(e,p),p.push(e)}}return p}}function j({Grid:t,Hex:n}){return function({radius:e,center:r,onCreate:i=(()=>{})}){r=n(r);const o=new t;o.radius=e,o.center=r;const{q:s,r:u,s:c}=r;let a=n({q:s,r:u-e,s:c+e});for(let t=0;t<6;t++)for(let r=0;r<e;r++){i(a,o),o.push(a);const{q:e,r:r,s:s}=f[t];a=n({q:a.q+e,r:a.r+r,s:a.s+s})}return o}}function M({Grid:t,Hex:n}){return function({radius:e,center:r,onCreate:i=(()=>{})}){r=n(r);let o=new t;i(r,o),o.push(r);for(let t=1;t<=e;t++)o=o.concat(this.ring({radius:t,center:r,onCreate:i}));return o.radius=e,o.center=r,o}}function E({Point:t}){return function(n,e){let r;return({x:r,y:e}=t(n,e)),t(this.x+r,this.y+e)}}function C({Point:t}){return function(n,e){let r;return({x:r,y:e}=t(n,e)),t(this.x-r,this.y-e)}}function N({Point:t}){return function(n,e){let r;return({x:r,y:e}=t(n,e)),t(this.x*r,this.y*e)}}function S({Point:t}){return function(n,e){let r;return({x:r,y:e}=t(n,e)),t(this.x/r,this.y/e)}}function R({ensureXY:t}){const n={add:E({Point:o}),subtract:C({Point:o}),multiply:N({Point:o}),divide:S({Point:o})};function o(o,s){let u;return u=r(o)?t(o,s):i(o)?t(...o):e(o)?t(o.x,o.y):t(0),Object.assign(Object.create(n),u)}return o}const v=R({ensureXY:a});class G extends Array{static isValidHex(t){return!0===(t||{}).__isHoneycombHex}fill(){throw new TypeError("Grid.prototype.fill is not implemented")}includes(t,n=0){return!!(this.indexOf(t,n)+1)}indexOf(t,n=0){const{length:e}=this;let r=Number(n);for(t=v(t),r=Math.max(r>=0?r:e+r,0);r<e;r++)if(this[r].equals(t))return r;return-1}lastIndexOf(t,n=this.length-1){const{length:e}=this;let r=Number(n);for(t=v(t),r=r>=0?Math.min(r,e-1):e+r;r>=0;r--)if(this[r].equals(t))return r;return-1}push(...t){return super.push(...t.filter(G.isValidHex))}splice(t,n,...e){return null==n?super.splice(t):super.splice(t,n,...e.filter(G.isValidHex))}unshift(...t){return super.unshift(...t.filter(G.isValidHex))}}function T(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function D(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function z(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?D(Object(e),!0).forEach((function(n){T(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):D(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function V(t,n){if(null==t)return{};var e,r,i=function(t,n){if(null==t)return{};var e,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e=o[r],n.indexOf(e)>=0||(i[e]=t[e]);return i}(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)e=o[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}function W({Hex:t}){return function(...n){return Object.assign(this,t(...n))}}function I(){return{x:this.x,y:this.y}}function _(){return{q:this.q,r:this.r,s:this.s}}function X({q:t,r:n}){let e,r;return this.isPointy()?(e=t+s(this.offset,n),r=n):(e=t,r=n+s(this.offset,t)),{x:e,y:r}}function Y(){return"pointy"===this.orientation.toLowerCase()}function B(){return"flat"===this.orientation.toLowerCase()}function A(){const{xRadius:t}=this.size;return this.isPointy()?t*Math.sqrt(3):2*t}function L(){const{yRadius:t}=this.size;return this.isPointy()?2*t:t*Math.sqrt(3)}function k({Point:t}){return function(){const n=this.width(),e=this.height(),{x:r,y:i}=this.origin;return this.isPointy()?[t(n-r,.25*e-i),t(n-r,.75*e-i),t(.5*n-r,e-i),t(0-r,.75*e-i),t(0-r,.25*e-i),t(.5*n-r,0-i)]:[t(n-r,.5*e-i),t(.75*n-r,e-i),t(.25*n-r,e-i),t(0-r,.5*e-i),t(.25*n-r,0-i),t(.75*n-r,0-i)]}}function F({Point:t}){return function(){const{x:n,y:e}=this.origin;return t(this.width()/2-n,this.height()/2-e)}}function U({Point:t}){return function(){const{q:n,r:e,size:r}=this,{xRadius:i,yRadius:o}=r;let s,u;return this.isPointy()?(s=i*Math.sqrt(3)*(n+e/2),u=3*o/2*e):(s=3*i/2*n,u=o*Math.sqrt(3)*(e+n/2)),t(s,u)}}function J({Point:t,Hex:n}){return function(e,r){const{xRadius:i,yRadius:o}=this.size;let s,u,c;return({x:s,y:r}=t(e,r).subtract(this.center())),this.isPointy()?(u=Math.sqrt(3)*s/(3*i)-r/(3*o),c=2/3*(r/o)):(u=2/3*(s/i),c=Math.sqrt(3)*r/(3*o)-s/(3*i)),n({q:u,r:c,s:-u-c}).round()}}function $({Hex:t,Point:n}){return function(e){const{x:r,y:i}=n(e);return t(this.x+r,this.y+i,z({},this))}}function K({Hex:t,Point:n}){return function(e){const{x:r,y:i}=n(e);return t(this.x-r,this.y-i,z({},this))}}function Q({Point:t}){return function(n){if(null!=n&&(i(n)||r(n.x)&&r(n.y))){const{x:e,y:r}=t(n);return this.x===e&&this.y===r}return!1}}function Z(t){return Math.max(Math.abs(this.q-t.q),Math.abs(this.r-t.r),Math.abs(this.s-t.s))}function tt({Hex:t}){return function(){let{q:n,r:e,s:r}=this,i=Math.round(n),o=Math.round(e),s=Math.round(r);const u=Math.abs(n-i),c=Math.abs(e-o),a=Math.abs(r-s);return u>c&&u>a?i=-o-s:c>a?o=-i-s:s=-i-o,t(z(z({},this),{},{q:i,r:o,s:s}))}}function nt({Hex:t}){return function(n,e){const r=this.q*(1-e)+n.q*e,i=this.r*(1-e)+n.r*e;return t(z(z({},this),{},{q:r,r:i,s:-r-i}))}}function et({Hex:t}){return function(){const{q:n,r:e,s:r}=l;return t(z(z({},this),{},{q:this.q+n,r:this.r+e,s:this.s+r}))}}function rt(){return"".concat(this.x,",").concat(this.y)}const it={thirdCoordinate:function(t,n){return-t-n}};const ot=R({ensureXY:a}),st=function({ensureXY:t,normalizeRadiuses:n,Point:o}){return function(u={}){const c=function({Point:t}){return function(n,e){let r,i,o;return({x:r,y:e}=t(n,e)),this.isPointy()?(i=r-s(this.offset,e),o=e):(i=r,o=e-s(this.offset,r)),{q:i,r:o,s:-i-o}}}({Point:o}),a={__isHoneycombHex:!0,orientation:"pointy",origin:0,size:{xRadius:1,yRadius:1},offset:-1,get q(){return this.cartesianToCube(this).q},get r(){return this.cartesianToCube(this).r},get s(){return this.cartesianToCube(this).s},add:$({Hex:h,Point:o}),cartesian:I,cartesianToCube:c,center:F({Point:o}),coordinates:I,corners:k({Point:o}),cube:_,cubeToCartesian:X,distance:Z,equals:Q({Point:o}),fromPoint:J({Point:o,Hex:h}),height:L,isFlat:B,isPointy:Y,lerp:nt({Hex:h}),nudge:et({Hex:h}),round:tt({Hex:h}),set:W({Hex:h}),subtract:K({Hex:h,Point:o}),toCartesian:X,toCube:c,toPoint:U({Point:o}),toString:rt,width:A},f=Object.assign(a,u);function h(n,o,s={}){let u;if(e(n)){let{q:t,r:e,s:i}=n,c=V(n,["q","r","s"]);if(r(t)||r(e)||r(i)){const n=t+e+i;if(Number.isNaN(n)||n>1e-12)throw new Error("Cube coordinates must have a sum of 0. q: ".concat(t,", r: ").concat(e,", s: ").concat(i,", sum: ").concat(t+e+i,"."));({x:u,y:o}=f.cubeToCartesian({q:t,r:e,s:i}))}else({x:u,y:o}=n);s=c}else i(n)?([u,o]=n,s={}):u=n;return Object.assign(Object.create(f),Object.assign(s,t(u,o)))}return f.size=n(f.size,f.isPointy()),f.origin=o(f.origin),Object.assign(h,it,{toJSON:()=>u}),h}}({ensureXY:a,normalizeRadiuses:function(t,n){if(e(t)){if(r(t.xRadius)&&r(t.yRadius))return t;const{width:e,height:i}=t;if(r(e)&&r(i))return n?{xRadius:e/Math.sqrt(3),yRadius:i/2}:{xRadius:e/2,yRadius:i/Math.sqrt(3)}}if(r(t))return{xRadius:t,yRadius:t};throw new Error("Invalid size: ".concat(t,". Set it as a number or as an object containing width and height."))},Point:ot}),ut=function({extendHex:t,Grid:n,Point:e}){const{isValidHex:o}=n;return function(s=t()){function a(...t){return t=t.filter(Boolean),i(t[0])&&(0===t[0].length||t[0].some(t=>!r(t)))&&(t=t[0]),new n(...t.map(t=>s(t)))}return Object.assign(a,{Hex:s,isValidHex:o,pointToHex:P({Point:e,Hex:s}),parallelogram:m({Grid:n,Hex:s}),triangle:w({Grid:n,Hex:s}),hexagon:H({Grid:n,Hex:s}),rectangle:O({Grid:n,Hex:s,compassToNumberDirection:c,signedModulo:u}),ring:j({Grid:n,Hex:s}),spiral:M({Grid:n,Hex:s})}),Object.assign(n.prototype,{get:d,hexesBetween:y,hexesInRange:p({isValidHex:o}),neighborsOf:b({isValidHex:o,signedModulo:u,compassToNumberDirection:c}),pointHeight:q,pointWidth:g,set:x({isValidHex:o})}),a}}({extendHex:st,Grid:G,Point:ot});t.Point=ot,t.defineGrid=ut,t.extendHex=st,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=honeycomb.min.js.map
